{"ast":null,"code":"import axios from \"axios\";\nexport async function login(username, password) {\n  const response = await axios.post(`${process.env.REACT_APP_API_URL}/auth`, {\n    username,\n    password\n  }, {\n    withCredentials: true\n  });\n  if (response.status === 200) {\n    return await get();\n  }\n  return null;\n}\nexport async function get() {\n  try {\n    const response = await axios.get(`${process.env.REACT_APP_API_URL}/auth`, {\n      withCredentials: true\n    });\n    if (response.status === 200) {\n      return response.data;\n    }\n  } catch {}\n  return null;\n}\nexport async function logout() {\n  try {\n    await axios.delete(`${process.env.REACT_APP_API_URL}/auth`, {\n      withCredentials: true\n    });\n  } catch {}\n}\n\n// import axios from 'axios';\n//\n// const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:8000/api\";\n//\n// export const login = async (username, password) => {\n//     try {\n//         const response = await axios.post(`${API_URL}/users/login`, { username, password });\n//         const { token, user } = response.data;\n//         localStorage.setItem('token', token);\n//         return user;\n//     } catch (error) {\n//         console.error(\"Login error\", error);\n//         return null;\n//     }\n// };\n//\n// export const register = async (username, email, password) => {\n//     try {\n//         const response = await axios.post(`${API_URL}/users/register`, { username, email, password });\n//         return response.data;\n//     } catch (error) {\n//         console.error(\"Registration error\", error);\n//         return null;\n//     }\n// };\n//\n// export const get = async () => {\n//     try {\n//         const token = localStorage.getItem('token');\n//         if (!token) return null;\n//         const response = await axios.get(`${API_URL}/users/me`, {\n//             headers: {\n//                 Authorization: `Bearer ${token}`\n//             }\n//         });\n//         return response.data;\n//     } catch (error) {\n//         console.error(\"Get user error\", error);\n//         return null;\n//     }\n// };\n//\n// export const logout = () => {\n//     localStorage.removeItem('token');\n// };","map":{"version":3,"names":["axios","login","username","password","response","post","process","env","REACT_APP_API_URL","withCredentials","status","get","data","logout","delete"],"sources":["D:/Transferencias/quiz_modificada/quiz/frontend/src/services/Auth.js"],"sourcesContent":["import axios from \"axios\";\n\nexport async function login(username, password) {\n    const response = await axios.post(`${process.env.REACT_APP_API_URL}/auth`, { username, password }, { withCredentials: true });\n\n    if (response.status === 200) {\n        return await get();\n    }\n\n    return null;\n}\n\nexport async function get() {\n    try {\n        const response = await axios.get(`${process.env.REACT_APP_API_URL}/auth`, { withCredentials: true });\n\n        if (response.status === 200) {\n            return response.data;\n        }\n    } catch { }\n\n    return null;\n}\n\nexport async function logout() {\n    try {\n        await axios.delete(`${process.env.REACT_APP_API_URL}/auth`, { withCredentials: true });\n    } catch { }\n}\n\n\n\n\n\n\n// import axios from 'axios';\n//\n// const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:8000/api\";\n//\n// export const login = async (username, password) => {\n//     try {\n//         const response = await axios.post(`${API_URL}/users/login`, { username, password });\n//         const { token, user } = response.data;\n//         localStorage.setItem('token', token);\n//         return user;\n//     } catch (error) {\n//         console.error(\"Login error\", error);\n//         return null;\n//     }\n// };\n//\n// export const register = async (username, email, password) => {\n//     try {\n//         const response = await axios.post(`${API_URL}/users/register`, { username, email, password });\n//         return response.data;\n//     } catch (error) {\n//         console.error(\"Registration error\", error);\n//         return null;\n//     }\n// };\n//\n// export const get = async () => {\n//     try {\n//         const token = localStorage.getItem('token');\n//         if (!token) return null;\n//         const response = await axios.get(`${API_URL}/users/me`, {\n//             headers: {\n//                 Authorization: `Bearer ${token}`\n//             }\n//         });\n//         return response.data;\n//     } catch (error) {\n//         console.error(\"Get user error\", error);\n//         return null;\n//     }\n// };\n//\n// export const logout = () => {\n//     localStorage.removeItem('token');\n// };\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,eAAeC,KAAKA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;EAC5C,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,OAAO,EAAE;IAAEN,QAAQ;IAAEC;EAAS,CAAC,EAAE;IAAEM,eAAe,EAAE;EAAK,CAAC,CAAC;EAE7H,IAAIL,QAAQ,CAACM,MAAM,KAAK,GAAG,EAAE;IACzB,OAAO,MAAMC,GAAG,CAAC,CAAC;EACtB;EAEA,OAAO,IAAI;AACf;AAEA,OAAO,eAAeA,GAAGA,CAAA,EAAG;EACxB,IAAI;IACA,MAAMP,QAAQ,GAAG,MAAMJ,KAAK,CAACW,GAAG,CAAC,GAAGL,OAAO,CAACC,GAAG,CAACC,iBAAiB,OAAO,EAAE;MAAEC,eAAe,EAAE;IAAK,CAAC,CAAC;IAEpG,IAAIL,QAAQ,CAACM,MAAM,KAAK,GAAG,EAAE;MACzB,OAAON,QAAQ,CAACQ,IAAI;IACxB;EACJ,CAAC,CAAC,MAAM,CAAE;EAEV,OAAO,IAAI;AACf;AAEA,OAAO,eAAeC,MAAMA,CAAA,EAAG;EAC3B,IAAI;IACA,MAAMb,KAAK,CAACc,MAAM,CAAC,GAAGR,OAAO,CAACC,GAAG,CAACC,iBAAiB,OAAO,EAAE;MAAEC,eAAe,EAAE;IAAK,CAAC,CAAC;EAC1F,CAAC,CAAC,MAAM,CAAE;AACd;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}